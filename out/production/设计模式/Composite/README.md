# 组合设计模式

## 简介

### 使用场景

* 用树形结构来组织对象
* 部分-整体：层次结构
* 对象的使用具有一致性

### 优点

* 递归对象，便于扩展
* 不需要进行特殊判定，可在任何场景使用
* 用户调用自由，并不了解自己的层级

### 结构图

<center>组合设计模式（Composite）结构图</center>

![组合设计模式.drawio](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/typroa/3046/%E7%BB%84%E5%90%88%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.drawio.png)

**说明：**

* `Component`:对象接口，用于管理对象（基础组合）
* `Composite`:实现接口管理操作，还可以存储组合
* `Leaf`:叶子节点，来实现特定操作



## 进阶

### 透明方式与安全方式

#### 透明方式

`Leaf `中也实现了`Add`和`Remove`函数，但其实没有意义

* 叶子节点和树枝节点没有区别
* 接口一致性
* 但是无意义

#### 安全方式

在`Component`中不去生命`Add`和`Remove`方法，而是在`Composite`中声明

* 省去`Leaf`中的无效代码
* 不够透明，客户端需要判断叶子节点还是树枝节点

### 使用场景

* 忽略叶子节点和树枝节点的区别
* 部分-整体关系相互型

#### 
